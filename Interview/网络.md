1. UDP 通信方式
```
无连接协议
* 协议：
UDP首部
｜0--------15｜16--------31｜-
｜16位源端口号｜16位目的端口号｜8字节
｜16位UDP长度｜16位UDP检验和｜ -
｜数据｜

* 通信方式：
1.单播：单台主机向单台主机
2.广播：单台主机向网络中所有主机
3.多播/组播：单台主机向选定的一组主机

若目的地址仅指定单个接收接口，则称为单播，在单播方式下，任意两台主机之间的通信不会干扰网内其他主机
若目的地址包含网上的所有主机的接收接口时，即一个主机要向网上所有主机发送帧，则称为广播
若一个主机把帧发送给属于多播组的多个主机，则称为多播

* 传输
IP 分片

```

2. TCP 底层传输方式
```
可靠数据传输，所有数据按顺序传输，重试机制、拥塞算法
建立连接
Seq, Ack 两个确认号/序列号
三次握手：
1.syn
2.syn ack
3.ack received
传输流程
1. client - SYN -> server
2. client <- SYN,ACK - server
3. client - ACK -> server
4. client - PSH,ACK Len:725 -> server  //携带第一个有效的数据包
5. client <- ACK - server       // server发送确认包4发来的数据，确认号为 726（725是包4中有效数据长度）
6. client - PSH,ACK Len:1448 -> server
7. client <- ACK - server
...
// 关闭连接
8. client - ACK -> server   // 确认服务器发送过来最后一个数据段
9. client - FIN,ACK -> server   // 发送 FIN 标识位的包
10. client <- FIN,ACK - server  // 服务端将确认号加1回应客户端
11. client - ACK -> server  // 客户端


每一行代表一个单独的 TCP 包，
```

3. 如何利用 UDP 实现可靠连接
传输层无法保证，只能通过应用层来实现
1、添加seq/ack机制，确保数据发送到对端
2、添加发送和接收缓冲区，主要是用户超时重传。
3、添加超时重传机制。

开源程序:
RUDP（Reliable User Datagram Protocol）
RTP（Real Time Protocol）
UDT（UDP-based Data Transfer Protocol）


4. 弱网下 TCP 和 UDP


5. 为什么多线程能提高 HTTP 传输速度？或者为什么一个 HTTP 请求无法充分利用带宽？


# HTTP
1. HTTP2

2. cookie, session 作用
cookie 保存在客户端，session 保存在服务器
每次HTTP请求，客户端会发送响应的 cookie 到服务端，大多数应用都是用 cookie 来实现 session 跟踪到。
第一次创建Session的时候，服务端会在HTTP协议中告诉客户端，需要在 Cookie 里面记录一个Session ID，以后每次请求把这个会话ID发送到服务器
有人问，如果客户端的浏览器禁用了 Cookie 怎么办？一般这种情况下，会使用一种叫做URL重写的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如 sid=xxxxx 这样的参数，服务端据此来识别用户
这个信息可以写到Cookie里面，访问网站的时候，网站页面的脚本可以读取这个信息，就自动帮你把用户名给填了，能够方便一下用户。这也是Cookie名称的由来，给用户的一点甜头。
总结：
Session是在服务端保存的一个数据结构，用来跟踪用户的状态，这个数据可以保存在集群、数据库、文件中；
Cookie是客户端保存用户信息的一种机制，用来记录用户的一些信息，也是实现Session的一种方式。


3. Connection: Keep-Alive
保持连接，连接不会中断，当客户端发送另一个请求时，它会使用同一个连接。这一直继续到客户端或服务器端认为会话已经结束，其中一方中断连接
优势：
减少同时打开的连接数，减少CPU和内存占用
允许请求和应答的HTTP管线话
降低拥塞控制
后续请求不需要握手，减少延迟
报告错误无序关闭TCP
劣势
web服务器会保持连接若干秒(Apache中默认15秒)，这与提高的性能相比也许会影响性能
对于单个文件被不断请求的服务(例如图片存放网站)，Keep-Alive可能会极大的影响性能，因为它在文件被请求之后还保持了不必要的连接很长时间。

4. HTTPS 如何防止被抓包
1.证书锁定
客户端保存一份证书公钥，建立连接时对比预置公钥和接受的证书
2.公钥锁定
网站提供已授权公钥的哈希列表，指示客户端在后续通讯只接受列表上的公钥。提取证书中的公钥并内置到客户端中，通过与服务器对比公钥值来验证连接的正确性。
3.内容二次加密
